!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.MessageFactory=t()}}(function(){var t;return function e(t,n,r){function u(o,a){if(!n[o]){if(!t[o]){var s="function"==typeof require&&require;if(!a&&s)return s(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return u(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)u(r[o]);return u}({1:[function(e,n,r){(function(e){"use strict";!function(u){function i(t){for(var e,n,r=[],u=0,i=t.length;i>u;)e=t.charCodeAt(u++),e>=55296&&56319>=e&&i>u?(n=t.charCodeAt(u++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),u--)):r.push(e);return r}function o(t){for(var e,n=t.length,r=-1,u="";++r<n;)e=t[r],e>65535&&(e-=65536,u+=k(e>>>10&1023|55296),e=56320|1023&e),u+=k(e);return u}function a(t,e){return k(t>>e&63|128)}function s(t){if(0==(4294967168&t))return k(t);var e="";return 0==(4294965248&t)?e=k(t>>6&31|192):0==(4294901760&t)?(e=k(t>>12&15|224),e+=a(t,6)):0==(4292870144&t)&&(e=k(t>>18&7|240),e+=a(t,12),e+=a(t,6)),e+=k(63&t|128)}function c(t){for(var e,n=i(t),r=n.length,u=-1,o="";++u<r;)e=n[u],o+=s(e);return o}function f(){if(v>=g)throw Error("Invalid byte index");var t=255&y[v];if(v++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function l(){var t,e,n,r,u;if(v>g)throw Error("Invalid byte index");if(v==g)return!1;if(t=255&y[v],v++,0==(128&t))return t;if(192==(224&t)){var e=f();if(u=(31&t)<<6|e,u>=128)return u;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=f(),n=f(),u=(15&t)<<12|e<<6|n,u>=2048)return u;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=f(),n=f(),r=f(),u=(15&t)<<18|e<<12|n<<6|r,u>=65536&&1114111>=u))return u;throw Error("Invalid UTF-8 detected")}function p(t){y=i(t),g=y.length,v=0;for(var e,n=[];(e=l())!==!1;)n.push(e);return o(n)}var h="object"==typeof r&&r,d="object"==typeof n&&n&&n.exports==h&&n,b="object"==typeof e&&e;(b.global===b||b.window===b)&&(u=b);var y,g,v,k=String.fromCharCode,m={version:"2.0.0",encode:c,decode:p};if("function"==typeof t&&"object"==typeof t.amd&&t.amd)t(function(){return m});else if(h&&!h.nodeType)if(d)d.exports=m;else{var w={},j=w.hasOwnProperty;for(var U in m)j.call(m,U)&&(h[U]=m[U])}else u.utf8=m}(void 0)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function u(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./message.js"),s=u(a),c=t("../bower_components/utf8/utf8.js"),f=u(c),l=t("./unpackers.js"),p=r(l),h=t("./packers.js"),d=r(h),b=t("./utils.js"),y=(Number.MAX_SAFE_INTEGER>Math.pow(2,64)-1?Number.MAX_SAFE_INTEGER:Math.pow(2,64)-1,{bool:"?","byte":"b",ubyte:"B","char":"c","short":"h",ushort:"H","int":"i",uint:"I",int64:"q",uint64:"Q","float":"f","double":"d",string:"s"}),g={bool:1,"byte":1,ubyte:1,"char":1,"short":2,ushort:2,"int":4,uint:4,int64:8,uint64:8,"float":4,"double":8,string:4},v={},k={};Object.keys(y).forEach(function(t){v[t]=p["unpack"+t.charAt(0).toUpperCase()+t.slice(1)],k[t]=d["pack"+t.charAt(0).toUpperCase()+t.slice(1)]}),v["enum"]=p.unpackEnum,k["enum"]=d.packEnum;var m=function(){function t(e){i(this,t);var n=Object.keys(e).sort();this.msgClassesByName={},this.msgClassesById={},this.bytesNeededForId=b.getBytesToRepresent(n.length),this.idBinaryFormat=b.getBinaryFormatSymbol(n.length),this.idUnpacker=b.getUnpacker(n.length),this.idPacker=b.getPacker(n.length),n.forEach(function(t,n){var r={},u={},i=Object.keys(e[t].format).sort(),o=this.bytesNeededForId,a=[],c=[],l=[],p={};if(e[t].enums)for(var h in e[t].enums){var d=e[t].enums[h];r[h]={},u[h]={};for(var y in d){var m=d[y];r[h][y]=m,u[h][m]=y}}var w=function(){s["default"].call(this)};i.forEach(function(n,i){var s=v[e[t].format[n]],h=k[e[t].format[n]];"enum"===e[t].format[n]?(a.push(s.bind(w,u[n],b.getUnpacker(Object.keys(r).length))),c.push(h.bind(w,r[n],b.getPacker(Object.keys(r).length))),o+=b.getBytesToRepresent(Object.keys(r).length),p[n]={get:function(){return this.Cls.reverseEnums[n][this.raw[n]]},set:function(t){this.raw[n]=this.Cls.enums[n][t]}}):(a.push(s.bind(w)),c.push(h.bind(w)),o+=g[e[t].format[n]],"string"===e[t].format[n]?(l.push(i),p[n]={get:function(){return f["default"].decode(this.raw[n])},set:function(t){this.binaryLength-=this.raw[n].length,this.raw[n]=f["default"].encode(t),this.binaryLength+=this.raw[n].length}}):p[n]={get:function(){return this.raw[n]},set:function(t){this.raw[n]=t}})});var j={name:{value:t,writable:!1},format:{value:e[t].format,writable:!1},id:{value:n+1,writable:!1},enums:{value:r,writable:!1},reverseEnums:{value:u,writable:!1},length:{value:i.length,writable:!1},keys:{value:i,writable:!1},unpackers:{value:a,writable:!1},packers:{value:c,writable:!1},baseBinaryLength:{value:o,writable:!1},msgProperties:{value:p,writable:!1}};w.prototype=Object.create(s["default"].prototype,j),Object.defineProperties(w,j),this.msgClassesById[n+1]=w,this.msgClassesByName[t]=w}.bind(this))}return o(t,[{key:"getByName",value:function(t){return this.msgClassesByName[t]}},{key:"getById",value:function(t){return this.msgClassesById[t]}},{key:"get",value:function(t){return!isNaN(parseInt(t))&&isFinite(t)?this.getById(t):this.getByName(t)}}]),t}();n["default"]=m,e.exports=n["default"]},{"../bower_components/utf8/utf8.js":1,"./message.js":3,"./packers.js":4,"./unpackers.js":5,"./utils.js":6}],3:[function(t,e,n){"use strict";function r(){this.Cls=Object.getPrototypeOf(this),this.binaryLength=this.Cls.baseBinaryLength,this.raw={},Object.defineProperties(this,this.Cls.msgProperties)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r,e.exports=n["default"]},{}],4:[function(t,e,n){"use strict";function r(t,e,n){return t.setUInt8(e,n),e+1}function u(t,e,n){return t.setInt8(e,n),e+1}function i(t,e,n){return t.setUint8(e,n),e+1}function o(t,e,n){return t.setInt16(e,n),e+2}function a(t,e,n){return t.setUint16(e,n),e+2}function s(t,e,n){return t.setInt32(e,n),e+4}function c(t,e,n){return t.setUint32(e,n),e+4}function f(t,e,n){return t.setInt64(e,n),e+8}function l(t,e,n){return t.setUint64(e,n),e+8}function p(t,e,n){return t.setFloat32(e,n),e+4}function h(t,e,n){return t.setFloat64(e,n),e+8}function d(t,e,n){var r=n.length;e=c(t,e,r);for(var u=0;r>u;u++)e=i(t,e,n.charCodeAt(u));return e}function b(t,e,n,r,u){return e(n,r,t[u])}Object.defineProperty(n,"__esModule",{value:!0}),n.packBool=r,n.packByte=u,n.packUbyte=i,n.packShort=o,n.packUshort=a,n.packInt=s,n.packUint=c,n.packInt64=f,n.packUint64=l,n.packFloat=p,n.packDouble=h,n.packString=d,n.packEnum=b},{}],5:[function(t,e,n){"use strict";function r(t,e,n){return n.push(1===t.getUInt8(e)),e+1}function u(t,e,n){return n.push(t.getInt8(e)),e+1}function i(t,e,n){return n.push(t.getUint8(e)),e+1}function o(t,e,n){return n.push(t.getInt16(e)),e+2}function a(t,e,n){return n.push(t.getUint16(e)),e+2}function s(t,e,n){return n.push(t.getInt32(e)),e+4}function c(t,e,n){return n.push(t.getUint32(e)),e+4}function f(t,e,n){return n.push(t.getInt64(e)),e+8}function l(t,e,n){return n.push(t.getUint64(e)),e+8}function p(t,e,n){return n.push(t.getFloat32(e)),e+4}function h(t,e,n){return n.push(t.getFloat64(e)),e+8}function d(t,e,n){var r,u=t.getUint32(e),i=[];for(e+=4,r=0;u>r;r++)i.push(t.getUint8(e+r));return n.push(String.fromCharCode.apply(null,i)),e+u}function b(t,e,n,r,u){var i=[];return r=e(n,r,i),u.push(t[i.pop()]),r}Object.defineProperty(n,"__esModule",{value:!0}),n.unpackBool=r,n.unpackByte=u,n.unpackUbyte=i,n.unpackShort=o,n.unpackUshort=a,n.unpackInt=s,n.unpackUint=c,n.unpackInt64=f,n.unpackUint64=l,n.unpackFloat=p,n.unpackDouble=h,n.unpackString=d,n.unpackEnum=b},{}],6:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function u(t){return Math.ceil(Math.log(t+1,2)/8)}function i(t){var e=u(t);if(1>=e)return"B";if(2===e)return"H";if(4>=e)return"I";if(8>=e)return"Q";throw"Unable to represent number $number in packed structure"}function o(t){var e=u(t);if(1>=e)return c.unpackUbyte;if(2===e)return c.unpackUshort;if(4>=e)return c.unpackUint;if(8>=e)return c.unpackUint64;throw"No suitable unpacked could be found that could unpack $number"}function a(t){var e=u(t);if(1>=e)return l.packUbyte;if(2===e)return l.packUshort;if(4>=e)return l.packUint;if(8>=e)return l.packUint64;throw"No suitable unpacked could be found that could unpack $number"}Object.defineProperty(n,"__esModule",{value:!0}),n.getBytesToRepresent=u,n.getBinaryFormatSymbol=i,n.getUnpacker=o,n.getPacker=a;var s=t("./unpackers.js"),c=r(s),f=t("./packers.js"),l=r(f)},{"./packers.js":4,"./unpackers.js":5}],7:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var u=t("./js/message-factory.js"),i=r(u);e.exports=i["default"]},{"./js/message-factory.js":2}]},{},[7])(7)});